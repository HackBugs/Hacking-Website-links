<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Futuristic Study Notepad 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono&display=swap">
<style>
  :root {
    --bg: #0a0e17;
    --text: #e0f7ff;
    --accent: #00f0ff;
    --accent-glow: #00f0ff33;
    --toolbar: #111827;
    --header: #1f2937;
    --status: #17202a;
    --lineNum: #0f172a;
    --border: #334155;
    --toolbar-text: #e0f7ff;
    --btn-bg: rgba(255,255,255,0.08);
    --btn-hover: rgba(255,255,255,0.18);
    --dropdown-bg: #111827;
    --dropdown-text: #e0f7ff;
  }

  body.light {
    --bg: #f8fafc;
    --text: #0f172a;
    --accent: #0ea5e9;
    --accent-glow: #0ea5e933;
    --toolbar: #e2e8f0;
    --header: #cbd5e1;
    --status: #f1f5f9;
    --lineNum: #e2e8f0;
    --border: #94a3b8;
    --toolbar-text: #0f172a;
    --btn-bg: rgba(15,23,42,0.06);
    --btn-hover: rgba(15,23,42,0.12);
    --dropdown-bg: white;
    --dropdown-text: #0f172a;
  }

  body {
    margin: 0;
    font-family: 'Roboto Mono', monospace;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    transition: all 0.5s ease;
    overflow: hidden;
  }

  .futuristic {
    font-family: 'Orbitron', sans-serif;
    letter-spacing: 0.5px;
  }

  .toolbar {
    background: linear-gradient(90deg, var(--toolbar), #1e293b);
    padding: 10px 16px;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    color: var(--toolbar-text);
    z-index: 10;
  }

  .toolbar button,
  .toolbar select,
  .toolbar input {
    padding: 8px 14px;
    border: 1px solid var(--border);
    border-radius: 8px;
    background: var(--btn-bg);
    color: var(--toolbar-text);
    cursor: pointer;
    transition: all 0.3s;
    font-size: 14px;
  }

  .toolbar button:hover,
  .toolbar select:hover {
    background: var(--btn-hover);
    box-shadow: 0 0 12px var(--accent-glow);
  }

  /* Zoom Select - button jaisa look */
  #zoomSelect {
    min-width: 82px;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23e0f7ff' d='M6 9l-6-6h12z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 10px center;
    background-size: 10px;
    padding-right: 28px !important;
  }

  body.light #zoomSelect {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%230f172a' d='M6 9l-6-6 h12z'/%3E%3C/svg%3E");
  }

  /* Dropdown options (popup) - theme ke according dark/light */
  .toolbar select option {
    background: var(--dropdown-bg);
    color: var(--dropdown-text);
    padding: 8px;
  }

  /* Hover effect on options */
  .toolbar select option:hover {
    background: var(--accent-glow) !important;
  }

  .container {
    display: flex;
    height: calc(100vh - 58px);
  }

  .editorBox {
    flex: 1;
    display: flex;
    flex-direction: column;
    border-right: 1px solid var(--border);
  }

  .editorBox:last-child { border-right: none; }

  .editorHeader {
    background: var(--header);
    padding: 8px 12px;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    border-bottom: 1px solid var(--border);
  }

  .editorArea {
    flex: 1;
    display: flex;
    background: var(--bg);
  }

  .lineNumbers {
    background: var(--lineNum);
    color: #64748b;
    padding: 12px 8px 0 8px;
    text-align: right;
    user-select: none;
    font-size: 13px;
    line-height: 1.6;
    width: 52px;
    min-width: 52px;
    max-width: 52px;
    flex: none;
    box-sizing: border-box;
    white-space: pre;
  }

  textarea {
    flex: 1;
    border: none;
    outline: none;
    padding: 12px;
    font-size: 15px;
    line-height: 1.6;
    background: transparent;
    color: var(--text);
    resize: none;
    white-space: pre-wrap;
    overflow-wrap: break-word;
    caret-color: var(--accent);
  }

  .status {
    background: var(--status);
    padding: 6px 12px;
    font-size: 13px;
    color: #94a3b8;
    border-top: 1px solid var(--border);
  }

  .fab {
    position: fixed;
    bottom: 24px;
    right: 24px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: var(--accent);
    color: #000;
    font-size: 24px;
    border: none;
    box-shadow: 0 6px 20px var(--accent-glow);
    cursor: pointer;
    z-index: 100;
  }

  .focus-mode .toolbar,
  .focus-mode .editorHeader,
  .focus-mode .status,
  .focus-mode .fab { display: none; }

  .focus-mode .container { height: 100vh; }
</style>
</head>
<body class="futuristic">

<div class="toolbar">
  <button onclick="setSplit(1)">1</button>
  <button onclick="setSplit(2)">2</button>
  <button onclick="setSplit(3)">3</button>
  <button onclick="setSplit(4)">4</button>
  <button onclick="toggleTheme()">Theme</button>
  <button onclick="toggleFuturistic()">Futuristic Font</button>
  <button onclick="toggleFocus()">Focus</button>
  <button onclick="toggleFull()">Full</button>
  <button onclick="speakToText()">Speak</button>
  <button onclick="quickSummary()">AI Summary</button>
  <select id="zoomSelect" onchange="applyZoom()">
    <option value="0.8">80%</option>
    <option value="0.9">90%</option>
    <option value="1" selected>100%</option>
    <option value="1.1">110%</option>
    <option value="1.25">125%</option>
    <option value="1.5">150%</option>
  </select>
</div>

<div class="container" id="container"></div>

<button class="fab" onclick="quickInsert()">+</button>

<script>
let currentZoom = 1;
let focusMode = false;

function toggleTheme() {
  document.body.classList.toggle("light");
}

function toggleFuturistic() {
  document.body.classList.toggle("futuristic");
}

function toggleFocus() {
  focusMode = !focusMode;
  document.body.classList.toggle("focus-mode", focusMode);
}

function toggleFull() {
  if (!document.fullscreenElement) document.documentElement.requestFullscreen().catch(()=>{});
  else document.exitFullscreen().catch(()=>{});
}

function appliquerZoom() {
  currentZoom = parseFloat(document.getElementById("zoomSelect").value);
  document.querySelectorAll("textarea").forEach(t => {
    t.style.fontSize = (parseFloat(t.style.fontSize || 16) * currentZoom) + "px";
  });
}

function createEditor(id) {
  const box = document.createElement("div");
  box.className = "editorBox";

  const header = document.createElement("div");
  header.className = "editorHeader";

  const fontSelect = document.createElement("select");
  ["14px","16px","18px","20px","22px"].forEach(s => {
    let opt = document.createElement("option");
    opt.value = s; opt.text = s;
    fontSelect.appendChild(opt);
  });

  const searchIn = document.createElement("input");
  searchIn.placeholder = "Find...";
  searchIn.style.width = "140px";

  const btnFindNext = document.createElement("button"); btnFindNext.textContent = "↓";
  const btnFindPrev = document.createElement("button"); btnFindPrev.textContent = "↑";

  const btnDate = document.createElement("button"); btnDate.textContent = "Date";
  const btnClear = document.createElement("button"); btnClear.textContent = "Clear";
  const btnWrap = document.createElement("button"); btnWrap.textContent = "Wrap: On";
  const btnUndo = document.createElement("button"); btnUndo.textContent = "Undo";
  const btnRedo = document.createElement("button"); btnRedo.textContent = "Redo";

  header.append(fontSelect, searchIn, btnFindPrev, btnFindNext, btnDate, btnClear, btnWrap, btnUndo, btnRedo);

  const area = document.createElement("div");
  area.className = "editorArea";

  const nums = document.createElement("div");
  nums.className = "lineNumbers";

  const ta = document.createElement("textarea");
  ta.value = localStorage.getItem(`note${id}`) || "";
  ta.spellcheck = false;

  area.append(nums, ta);

  const status = document.createElement("div");
  status.className = "status";

  let history = [ta.value];
  let histPos = 0;

  function saveHistory() {
    if (histPos < history.length - 1) history = history.slice(0, histPos + 1);
    history.push(ta.value);
    histPos = history.length - 1;
    localStorage.setItem(`note${id}`, ta.value);
  }

  function updateAll() {
    const text = ta.value;
    const lineCount = (text.match(/\n/g) || []).length + 1;
    let numStr = "";
    for (let i = 1; i <= lineCount; i++) numStr += i + "\n";
    nums.textContent = numStr;

    const words = text.trim() ? text.trim().split(/\s+/).length : 0;
    const chars = text.length;
    const readMin = Math.ceil(words / 220);
    let warn = chars > 12000 ? 'color:#e74c3c' : chars > 8000 ? 'color:orange' : '';
    status.innerHTML = `Words: ${words} • Ch: ${chars} • ~${readMin} min <span style="${warn}">${chars > 8000 ? `(${chars})` : ""}</span>`;
  }

  ta.addEventListener("input", () => { saveHistory(); updateAll(); });
  ta.addEventListener("scroll", () => { nums.scrollTop = ta.scrollTop; });

  fontSelect.onchange = () => ta.style.fontSize = fontSelect.value;

  btnUndo.onclick = () => { if (histPos > 0) { histPos--; ta.value = history[histPos]; updateAll(); } };
  btnRedo.onclick = () => { if (histPos < history.length - 1) { histPos++; ta.value = history[histPos]; updateAll(); } };

  btnDate.onclick = () => {
    ta.value += "\n" + new Date().toLocaleString();
    saveHistory(); updateAll();
  };

  btnClear.onclick = () => {
    if (confirm("Clear?")) {
      ta.value = "";
      localStorage.removeItem(`note${id}`);
      history = [""]; histPos = 0;
      updateAll();
    }
  };

  btnWrap.onClick = () => {
    ta.style.whiteSpace = ta.style.whiteSpace === "pre" ? "pre-wrap" : "pre";
    btnWrap.textContent = ta.style.whiteSpace === "pre" ? "Wrap: Off" : "Wrap: On";
  };

  ta.addEventListener("keydown", e => {
    if (e.key === "Tab") {
      e.preventDefault();
      const start = ta.selectionStart;
      ta.value = ta.value.substring(0, start) + "    " + ta.value.substring(ta.selectionEnd);
      ta.selectionStart = ta.selectionEnd = start + 4;
    }
  });

  box.append(header, area, status);
  updateAll();
  return box;
}

function setSplit(num) {
  document.getElementById("container").innerHTML = "";
  for (let i = 1; i <= num; i++) {
    document.getElementById("container").appendChild(createEditor(i));
  }
  document.querySelectorAll("textarea").forEach(t => {
    t.style.fontSize = (parseFloat(t.style.fontSize || 16) * currentZoom) + "px";
  });
}

setSplit(1);
</script>
</body>
</html>
